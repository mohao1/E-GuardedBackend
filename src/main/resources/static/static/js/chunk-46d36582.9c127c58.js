(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-46d36582"],{"0798":function(t,e,i){t.exports=i.p+"static/img/msg.5108a4a0.png"},"07d9":function(t,e,i){t.exports=i.p+"static/img/setk.7963254f.png"},3547:function(t,e,i){t.exports=i.p+"static/img/phone.c9441330.png"},"3f7e":function(t,e,i){"use strict";i.d(e,"a",(function(){return a}));var n=i("b775");function a(){return Object(n["a"])({url:"/Management/GetYoungerDataList",method:"GET"})}},"4b56":function(t,e,i){},"790d":function(t,e,i){"use strict";i.d(e,"a",(function(){return a}));var n=i("b775");function a(){return Object(n["a"])({url:"/Management/GetOldsterDataList",method:"GET"})}},7998:function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"a",(function(){return s})),i.d(e,"c",(function(){return r}));var n=i("b775");function a(){return Object(n["a"])({url:"/Management/GetCommunityDataList",method:"GET"})}function s(){return Object(n["a"])({url:"/Management/GetCommunityAdminDataList",method:"GET"})}function r(){return Object(n["a"])({url:"/Management/GetCommunityUserDataList",method:"GET"})}},"7a56":function(t,e,i){t.exports=i.p+"static/img/body.f58a869e.png"},"85da":function(t,e,i){"use strict";i("4b56")},9406:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"dashboard"},[i("div",{staticClass:"text"},[t._v(" 欢迎来到e-守护管理系统 ")]),i("div",{staticClass:"body"},[i("div",{staticClass:"body-left"},[i("div",{staticClass:"left-itme-1"},t._l(t.iconList,(function(e,n){return i("div",{key:n,staticClass:"Icons",on:{click:function(e){return t.alte()}}},[i("img",{staticStyle:{width:"80px"},attrs:{src:e.iconImag,alt:""}}),i("span",[t._v(t._s(e.title))])])})),0),i("div",{staticClass:"left-itme-2"},[i("div",{staticStyle:{width:"90%",height:"100%"}},[i("send",{attrs:{option:t.option_oldster_Inters}})],1)]),i("div",{staticClass:"left-itme-3"},[i("div",[t._v(" 今日求救信息 ")]),i("div",{staticClass:"list"},[i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableDataList}},[i("el-table-column",{attrs:{label:"编号",type:"index",sortable:"",width:"50",align:"center"}}),i("el-table-column",{attrs:{prop:"id",label:"信息ID",align:"center"}}),i("el-table-column",{attrs:{prop:"oldsterId",label:"用户ID",align:"center"}}),i("el-table-column",{attrs:{prop:"sosType",label:"求救类型",width:"100",align:"center"}}),i("el-table-column",{attrs:{prop:"setTime",label:"求救时间",width:"120",align:"center"}})],1)],1)])]),i("div",{staticClass:"body-right"},[i("div",{staticClass:"right-itme-1"},[i("div",{staticStyle:{width:"100%",height:"20%","font-size":"20px"}},[t._v(" 系统注册用户 ")]),i("div",{staticStyle:{width:"100%",height:"70%","font-size":"48px","line-height":"72px"}},[t._v(" "+t._s(t.UserNum)+"人 ")]),i("div",{staticStyle:{width:"100%",height:"10%","font-size":"10px","font-weight":"500px"}},[t._v(" 截至时间"+t._s(t.Time)+" ")])]),i("div",{staticClass:"right-itme-2"},[i("div",{staticStyle:{"margin-bottom":"10px",display:"flex","flex-direction":"row","justify-content":"space-between"}},[i("div",{staticStyle:{height:"40px","font-size":"16px","line-height":"40px"}},[t._v(" 志愿者的情况 ")]),i("div",{staticStyle:{height:"40px","font-size":"26px","line-height":"40px"}},[t._v(" "+t._s(t.CommunityUserList.length)+"人 ")])]),i("div",{staticStyle:{width:"100%"}},[i("ides",{attrs:{option:t.option_user_sex}})],1)]),i("div",{staticClass:"right-itme-3"},[i("div",{staticStyle:{height:"20px","font-size":"16px","line-height":"20px"}},[t._v(" 长辈签到情况 ")]),i("div",{staticStyle:{width:"100%",height:"150px"}},[i("ides2",{attrs:{option:t.option_step}})],1)])])])])},a=[],s=(i("a434"),i("b0c0"),i("2f62"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{ref:"chartEl",staticStyle:{height:"180px",width:"100%"}})])}),r=[],o=i("313e"),c={name:"ides",props:{option:{type:Object,default:function(){}}},data:function(){return{chart:null}},watch:{option:{handler:function(t,e){this.chart.setOption(t)},deep:!0}},mounted:function(){this.chart=o["a"](this.$refs.chartEl),this.chart.setOption(this.option)},methods:{}},l=c,u=i("2877"),d=Object(u["a"])(l,s,r,!1,null,null,null),h=d.exports,p=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{ref:"chartEl",staticStyle:{height:"160px",width:"100%"}})])},m=[],f={name:"ides2",props:{option:{type:Object,default:function(){}}},data:function(){return{chart:null}},watch:{option:{handler:function(t,e){this.chart.setOption(t)},deep:!0}},mounted:function(){this.chart=o["a"](this.$refs.chartEl),this.chart.setOption(this.option)},methods:{}},b=f,g=Object(u["a"])(b,p,m,!1,null,null,null),v=g.exports,y=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{ref:"chartEl",staticStyle:{height:"260px",width:"100%"}})])},x=[],w={name:"send",props:{option:{type:Object,default:function(){}}},data:function(){return{chart:null}},watch:{option:{handler:function(t,e){this.chart.setOption(t)},deep:!0}},mounted:function(){this.chart=o["a"](this.$refs.chartEl),this.chart.setOption(this.option)},methods:{}},O=w,_=Object(u["a"])(O,y,x,!1,null,null,null),L=_.exports,S=i("7998"),C=i("790d"),j=i("3f7e"),I=i("b187"),k=i("4239"),D={name:"Dashboard",components:{ides:h,ides2:v,send:L},data:function(){return{iconList:[{iconImag:i("0798"),title:"发送系统信息"},{iconImag:i("d960"),title:"待审批"},{iconImag:i("7a56"),title:"反馈信息"},{iconImag:i("07d9"),title:"系统设置"},{iconImag:i("ef03"),title:"防诈宣传"},{iconImag:i("3547"),title:"紧急呼叫"}],tableData:[],UserNum:0,oldsterList:[],CommunityUserList:[],stepNumber:0,unStepNumber:0}},methods:{alte:function(){alert("没有权限")},InGetSosList:function(){var t=this;0===this.tableData.length&&Object(I["b"])(this.Time).then((function(e){t.tableData=e.data.splice(0,10)})).catch((function(t){console.log("error :>> ",t)}))},getStep:function(){for(var t=this,e=0;e<this.oldsterList.length;e++){var i=this.oldsterList[e].userId;Object(k["b"])(i).then((function(e){0===e.data.sign?t.unStepNumber++:1===e.data.sign&&t.stepNumber++})).catch((function(t){console.log("error :>> ",t)}))}},GetUserNum:function(){var t=this;try{Object(C["a"])().then((function(e){t.oldsterList=e.data,t.UserNum=t.UserNum+e.data.length,t.getStep()})),Object(S["c"])().then((function(e){t.CommunityUserList=e.data,t.UserNum=t.UserNum+e.data.length})),Object(j["a"])().then((function(e){t.UserNum=t.UserNum+e.data.length}))}catch(e){console.log("error :>> ",e)}}},mounted:function(){this.InGetSosList(),this.GetUserNum(),this.getStep()},computed:{option_user_sex:function(){var t=0,e=0;if(this.CommunityUserList.length>0)for(var i=0;i<this.CommunityUserList.length;i++)1===this.CommunityUserList[i].sex?t++:0===this.CommunityUserList[i].sex&&e++;return{tooltip:{trigger:"item"},legend:{orient:"vertical",left:"left"},series:[{name:"志愿者的情况",type:"pie",radius:"50%",data:[{value:t,name:"男"},{value:e,name:"女"}],emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]}},option_step:function(){return{tooltip:{trigger:"item"},legend:{left:"center"},series:[{name:"长辈签到",type:"pie",radius:["40%","70%"],avoidLabelOverlap:!1,itemStyle:{borderRadius:10,borderColor:"#fff",borderWidth:2},label:{show:!1,position:"center"},emphasis:{},labelLine:{show:!1},data:[{value:this.stepNumber,name:"已签到"},{value:this.unStepNumber,name:"未签到"}]}]}},option_oldster_Inters:function(){for(var t=[0,0,0,0,0,0],e=[0,0,0,0,0,0],i=0;i<this.oldsterList.length;i++){var n=this.oldsterList[i];if(1===n.sex)switch(parseInt(n.age/10)){case 4:t.splice(0,1,t[0]+1);break;case 5:t.splice(1,1,t[1]+1);break;case 6:t.splice(2,1,t[2]+1);break;case 7:t.splice(3,1,t[3]+1);break;case 8:t.splice(4,1,t[4]+1);break;case 9:t.splice(5,1,t[5]+1);break;default:break}else if(0===n.sex)switch(parseInt(n.age/10)){case 4:e.splice(0,1,e[0]+1);break;case 5:e.splice(1,1,e[1]+1);break;case 6:e.splice(2,1,e[2]+1);break;case 7:e.splice(3,1,e[3]+1);break;case 8:e.splice(4,1,e[4]+1);break;case 9:e.splice(5,1,e[5]+1);break;default:break}}return{title:[{text:"长辈年龄分析"}],tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}}},toolbox:{feature:{}},legend:{data:["男-人数","女-人数","总的人数"]},xAxis:[{type:"category",data:["40-50","50-60","60-70","70-80","80-90","90-100"],axisPointer:{type:"shadow"}}],yAxis:[{type:"value",name:"人数",min:0,axisLabel:{formatter:"{value} 人"}},{type:"value",name:"总的人数",min:0,axisLabel:{formatter:"{value} 人"}}],series:[{name:"男-人数",type:"bar",tooltip:{valueFormatter:function(t){return t+" 人"}},data:t},{name:"女-人数",type:"bar",tooltip:{valueFormatter:function(t){return t+" 人"}},data:e},{name:"总的人数",type:"line",yAxisIndex:1,tooltip:{valueFormatter:function(t){return t+" 人"}},data:[e[0]+t[0],e[1]+t[1],e[2]+t[2],e[3]+t[3],e[4]+t[4],e[5]+t[5]]}]}},Time:function(){var t=new Date,e="";return e=e+t.getFullYear()+"-",e=e+(t.getMonth()+1)+"-",e+=t.getDate(),e},tableDataList:function(){for(var t=this,e=[],i=function(i){Object(I["c"])(t.tableData[i].oldsterId).then((function(n){var a=t.tableData[i];a.sosType=0===a.sosType?"短信求救":"电话求救",n.data.oldster&&(a.oldsterId=n.data.oldster.name),e.push(a)}))},n=0;n<this.tableData.length;n++)i(n);return e}}},U=D,E=(i("85da"),Object(u["a"])(U,n,a,!1,null,"22edde6c",null));e["default"]=E.exports},b187:function(t,e,i){"use strict";i.d(e,"a",(function(){return a})),i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return r}));var n=i("b775");function a(){return Object(n["a"])({url:"/Management/SelectRecordList",method:"GET"})}function s(t){return Object(n["a"])({url:"/Management/SelectRecordListByTime",method:"POST",data:{time:t}})}function r(t){return Object(n["a"])({url:"/Words/Written/GetOldster",method:"POST",data:{senderId:t}})}},d960:function(t,e,i){t.exports=i.p+"static/img/du.4ecb58fa.png"},ef03:function(t,e,i){t.exports=i.p+"static/img/dinger.f58201e5.png"}}]);